@model AppEjemploLayout.Models.ViewModel.InformacionSprint

@{
    ViewBag.Title = "Details";
    Layout = "~/Views/Shared/_Layout.cshtml";
}


<div class="container text-left">
    
    <div class="row">
        <div class="col-lg-12 col-md-12 col-sm-12 text-center">
            <br />
            <h2>Sprint @Html.DisplayFor(m => Model.sprint.SprintId)</h2>
            <br />
        </div>
    </div>

    <div class="row">
        <div class="col-lg-12 col-md-12 col-sm-12">
            <a href="../AsignarTareas/?IdUsuario=@Session["UsuarioId"].ToString()&IdSprint=@Model.sprint.SprintId" class="btn btn-success btn-lg">Tablero de tareas</a>
            <hr />
        </div>
    </div>

    <div class="row">

        <div class="col-lg-6 col-md-6 col-sm-6">            
            <div class="text-left">
                <h3>Historias de usuario</h3>
            </div>

            <div class="form-group">
                <div class="">
                    <a class="btn btn-success" href="../AsignarHU/"><span class="glyphicon glyphicon-plus"></span></a>
                </div>
            </div>

            <!-- Trigger the modal with a button -->
            <table class="table table-striped table-bordered">
                <thead>
                    <tr>
                        <th>
                            @Html.DisplayNameFor(model => model.historiasUsuario.First().nombre)
                        </th>
                        <th>
                            @Html.DisplayNameFor(model => model.historiasUsuario.First().prioridad)
                        </th>
                        <th>
                            @Html.DisplayNameFor(model => model.historiasUsuario.First().ezfuerzo)
                        </th>
                        <th></th>
                    </tr>
                </thead>

                <tbody>
                    @foreach (var item in Model.historiasUsuario)
                    {
                        <tr>
                            <td>
                                @Html.DisplayFor(modelItem => item.nombre)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.prioridad)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.ezfuerzo)
                            </td>
                            <td>
                                <a href="@Html.ActionLink("Editar", "Edit", new { id = item.HistoriaUsuarioId })">
                                    <span class="glyphicon glyphicon-eye-open"></span> | 
                                </a>
                                
                                
                                <a href="@Html.ActionLink("Detalles", "Details", new { id = item.HistoriaUsuarioId }) ">
                                    <span class="glyphicon glyphicon-pencil"></span> | 
                                </a>
                                
                                
                                <a href="@Html.ActionLink("Eliminar", "EliminarIntegrante", new { id = item.HistoriaUsuarioId })">
                                    <span class="glyphicon glyphicon-trash"></span>
                                </a>
                                
                            </td>
                        </tr>
                    }
                </tbody>
            </table>
        </div>

        <div class="col-lg-6 col-md-6 col-sm-6">
            <div class="text-left">
                <h3>Tareas</h3>
            </div>            
            <!-- Trigger the modal with a button -->
            
            @*<a href="../../TareaSprints/Create?idSprint=@Model.sprint.SprintId" class="btn btn-success">Nueva tarea</a>*@

            <div class="form-group">
                <div class="">
                    <a class="btn btn-success" href="../../TareaSprints/Create?idSprint=@Model.sprint.SprintId"><span class="glyphicon glyphicon-plus"></span></a>
                </div>
            </div>

            <table class="table table-striped table-bordered">
                <thead>
                    <tr>
                        <th>
                            @Html.DisplayNameFor(model => model.tareas.First().asunto)
                        </th>
                        <th>
                            @Html.DisplayNameFor(model => model.tareas.First().estado)
                        </th>
                        <th>
                            @Html.DisplayNameFor(model => model.tareas.First().estimacionHoras)
                        </th>
                        <th></th>
                    </tr>
                </thead>

                <tbody>
                    @foreach (var item in Model.tareas)
                    {
                        <tr>
                            <td>
                                @Html.DisplayFor(modelItem => item.asunto)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.estado)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.estimacionHoras)
                            </td>
                            <td>                                
                                <a href="@Url.Action("Details","TareaSprints", new { id = item.TareaSprintId })" >
                                    <span class="glyphicon glyphicon-eye-open"></span>
                                </a>

                                <a href="@Url.Action( "Edit","TareaSprints", new { id = item.TareaSprintId })">
                                    <span class="glyphicon glyphicon-pencil"></span>
                                </a>                                                                                                
                                
                                <a href="@Url.Action( "Delete","TareaSprints", new { id = item.TareaSprintId })">
                                    <span class="glyphicon glyphicon-trash"></span>
                                </a>                                
                            </td>
                        </tr>
                    }
                </tbody>
            </table>
        </div>

    </div>

</div>